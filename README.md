# Тестовое задание для стажёра Backend

## Описание

Необходимо реализовать сервис, который позволяет показывать пользователям баннеры, в зависимости от требуемой фичи и
тега пользователя, а также управлять баннерами и связанными с ними тегами и фичами.

## Стек

* Язык - Kotlin
* Фреймворк - Spring
* База данных - PostgreSQL

## Выполненные задачи

* Реализовано [API](https://documenter.getpostman.com/view/21612241/2sA3BhfvEa)
* Создана авторизация с использованием JWT для получения токенов пользователя и администраторе
* Созданы интеграционные тесты на сценарии:
    * Получение баннера для пользователя
    * Получение всех баннеров с фильтрацией
    * Создание баннера
    * Удаление баннера
    * Редактирование баннера
* Создан метод для удаление баннеров по фиче или тегу. Для реализации отложенного выполнения использовался
  класс `CompletableFuture`
* Создан метод для просмотра истории измнений баннера. Для реализации метода была создана таблица `banner_history`, в
  которую перед каждый изменением баннера добавлялась копия баннера. В таблице хранится до 3-х версий баннера

## Запуск

Ввести в терминале

```bash
docker-compose -f ./docker-compose.prod.yml up -d
```

Приложение будет доступно по адресу: `localhost:8081`

Документация Swagger будет доступа по адресу: `localhost:8081/docs`

Для получения токена авторизации используется метод `/login`. При инициализации создается два пользователя:
* email: `admin@example.com` password: `admin`
* email: `user@example.com` password: `user`
